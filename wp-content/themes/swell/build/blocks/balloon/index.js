!function(){var e={276:function(e,t,l){"use strict";var a=window.wp.i18n,n=window.wp.element,c=window.wp.blocks,o=window.wp.blockEditor,r=JSON.parse('{"u2":"loos/balloon"}');const s={className:{type:"string",default:""},content:{type:"string",source:"html",selector:"p",default:"ここにテキストを入力"},balloonID:{type:"string",default:"0"},balloonTitle:{type:"string",default:""},balloonIcon:{type:"string",default:""},balloonName:{type:"string",default:""},balloonCol:{type:"string",default:""},balloonType:{type:"string",default:""},balloonAlign:{type:"string",default:""},balloonBorder:{type:"string",default:""},balloonShape:{type:"string",default:""},spVertical:{type:"string",default:""}};var i=[{attributes:s,supports:{className:!1},save:({attributes:e})=>React.createElement(o.RichText.Content,{tagName:"p",value:e.content})},{attributes:s,supports:{className:!1},save:({attributes:e})=>{const{balloonTitle:t,balloonIcon:l,balloonName:a,balloonCol:n,balloonType:c,balloonAlign:r,balloonBorder:s,balloonShape:i,spVertical:m,content:p}=e;let b="";return t&&(b+=' set="'+t+'"'),l&&(b+=' icon="'+l+'"'),r&&(b+=' align="'+r+'"'),a&&(b+=' name="'+a+'"'),n&&(b+=' col="'+n+'"'),c&&(b+=' type="'+c+'"'),s&&(b+=' border="'+s+'"'),i&&(b+=' icon_shape="'+i+'"'),""!==m&&(b+=' sp_vertical="1"'),React.createElement("div",{className:"swell-block-balloon"},"[ふきだし"+b+"]",React.createElement(o.RichText.Content,{tagName:"p",value:p}),"[/ふきだし]")}},{attributes:s,save:({attributes:e})=>{const{balloonTitle:t,balloonIcon:l,balloonName:a,balloonCol:n,balloonType:c,balloonAlign:r,balloonBorder:s,balloonShape:i,spVertical:m,content:p}=e;let b="";return t&&(b+=' set="'+t+'"'),l&&(b+=' icon="'+l+'"'),r&&(b+=' align="'+r+'"'),a&&(b+=' name="'+a+'"'),n&&(b+=' col="'+n+'"'),c&&(b+=' type="'+c+'"'),s&&(b+=' border="'+s+'"'),i&&(b+=' icon_shape="'+i+'"'),""!==m&&(b+=' sp_vertical="1"'),React.createElement("div",null,"[ふきだし"+b+"]",React.createElement(o.RichText.Content,{tagName:"p",value:p}),"[/ふきだし]")}}],m={from:[{type:"block",blocks:["core/paragraph"],transform:e=>(0,c.createBlock)("loos/balloon",{content:e.content})}],to:[{type:"block",blocks:["core/paragraph"],transform:e=>(0,c.createBlock)("core/paragraph",{content:e.content})}]},p=window.wp.components,b={type:{speaking:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("path",{d:"M8.35,14v5.11L4.22,21.1c-0.76,0.36-0.76,1.44,0,1.8l4.13,1.99V26c0,1.66,1.34,3,3,3h20c1.66,0,3-1.34,3-3V14 c0-1.66-1.34-3-3-3h-20C9.69,11,8.35,12.34,8.35,14z"})),thinking:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("path",{d:"M10.97,14c0-1.66,1.34-3,3-3h20c1.66,0,3,1.34,3,3v12c0,1.66-1.34,3-3,3h-20c-1.66,0-3-1.34-3-3 C10.98,26,10.98,14,10.97,14z"}),React.createElement("circle",{cx:"6.97",cy:"23.5",r:"3"}),React.createElement("circle",{cx:"2.52",cy:"20",r:"1.5"}))},align:{left:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("path",{d:"M-26.22-19v3.41l-2.75,1.32c-0.5,0.24-0.5,0.96,0,1.2l2.75,1.32V-11c0,1.1,0.9,2,2,2h13.33c1.1,0,2-0.9,2-2v-8 c0-1.1-0.9-2-2-2h-13.33C-25.32-21-26.22-20.1-26.22-19z"}),React.createElement("circle",{cx:"-37.12",cy:"-15",r:"6"}),React.createElement("path",{d:"M18.11,15.64v3.91l-3.16,1.52c-0.58,0.28-0.58,1.1,0,1.38l3.16,1.52v0.85c0,1.27,1.03,2.3,2.3,2.3h15.3 c1.27,0,2.3-1.03,2.3-2.3v-9.18c0-1.27-1.03-2.3-2.3-2.3H20.4C19.14,13.35,18.11,14.37,18.11,15.64z"}),React.createElement("circle",{cx:"7.3",cy:"16.06",r:"3.18"}),React.createElement("path",{d:"M7.3,20.03c2.93,0,5.3,2.37,5.3,5.3v1.32H2v-1.32C2,22.4,4.37,20.03,7.3,20.03z"})),right:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("path",{d:"M21.9,15.64v3.91l3.16,1.52c0.58,0.28,0.58,1.1,0,1.38l-3.16,1.52v0.85c0,1.27-1.03,2.3-2.3,2.3H4.3 c-1.27,0-2.3-1.03-2.3-2.3v-9.18c0-1.27,1.03-2.3,2.3-2.3h15.3C20.87,13.35,21.9,14.37,21.9,15.64z"}),React.createElement("circle",{cx:"32.71",cy:"16.06",r:"3.18"}),React.createElement("path",{d:"M32.71,20.03c-2.93,0-5.3,2.37-5.3,5.3v1.32h10.59v-1.32C38.01,22.4,35.64,20.03,32.71,20.03z"}))},border:{none:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("path",{d:"M8.35,14v5.11L4.22,21.1c-0.76,0.36-0.76,1.44,0,1.8l4.13,1.99V26c0,1.66,1.34,3,3,3h20c1.66,0,3-1.34,3-3V14 c0-1.66-1.34-3-3-3h-20C9.69,11,8.35,12.34,8.35,14z"})),on:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("path",{d:"M8.35,14v5.11L4.22,21.1c-0.76,0.36-0.76,1.44,0,1.8l4.13,1.99V26c0,1.66,1.34,3,3,3h20c1.66,0,3-1.34,3-3V14 c0-1.66-1.34-3-3-3h-20C9.69,11,8.35,12.34,8.35,14z",className:"_thin"}),React.createElement("path",{d:"M31.35,13c0.55,0,1,0.45,1,1v12c0,0.55-0.45,1-1,1h-20c-0.55,0-1-0.45-1-1v-1.11v-1.26l-1.13-0.55L6.96,22l2.25-1.08 l1.13-0.55v-1.26V14c0-0.55,0.45-1,1-1H31.35 M31.35,11h-20c-1.66,0-3,1.34-3,3v5.11L4.22,21.1c-0.76,0.36-0.76,1.44,0,1.8 l4.13,1.99V26c0,1.66,1.34,3,3,3h20c1.66,0,3-1.34,3-3V14C34.35,12.34,33,11,31.35,11L31.35,11z"}))},spv:{off:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("path",{d:"M18.11,15.64v3.91l-3.16,1.52c-0.58,0.28-0.58,1.1,0,1.38l3.16,1.52v0.85c0,1.27,1.03,2.3,2.3,2.3h15.3 c1.27,0,2.3-1.03,2.3-2.3v-9.18c0-1.27-1.03-2.3-2.3-2.3H20.4C19.14,13.35,18.11,14.37,18.11,15.64z"}),React.createElement("circle",{cx:"7.3",cy:"16.06",r:"3.18"}),React.createElement("path",{d:"M7.3,20.03c2.93,0,5.3,2.37,5.3,5.3v1.32H2v-1.32C2,22.4,4.37,20.03,7.3,20.03z"})),on:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("path",{d:"M34.09,22.65H12.18l-1.52-3.16c-0.28-0.58-1.1-0.58-1.38,0l-1.52,3.16H5.91c-1.27,0-2.3,1.03-2.3,2.3v9.3 c0,1.27,1.03,2.3,2.3,2.3h28.18c1.27,0,2.3-1.03,2.3-2.3v-9.3C36.39,23.68,35.36,22.65,34.09,22.65z"}),React.createElement("circle",{cx:"10",cy:"6.63",r:"3.18"}),React.createElement("path",{d:"M10,10.61c2.93,0,5.3,2.37,5.3,5.3v1.32H4.7V15.9C4.7,12.98,7.07,10.61,10,10.61z"}))},shape:{square:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("circle",{cx:"20",cy:"14.4",r:"4.8"}),React.createElement("path",{d:"M20,20.4c4.42,0,8,3.58,8,8v2H12v-2C12,23.98,15.58,20.4,20,20.4z"})),circle:React.createElement("svg",{width:"20",height:"20","aria-hidden":"true",viewBox:"0 0 40 40"},React.createElement("circle",{cx:"20",cy:"14.4",r:"4.8"}),React.createElement("path",{d:"M20,20.4c4.42,0,8,3.58,8,8v2H12v-2C12,23.98,15.58,20.4,20,20.4z"}),React.createElement("path",{d:"M20,37c-9.37,0-17-7.63-17-17S10.63,3,20,3s17,7.63,17,17S29.37,37,20,37z M20,5C11.73,5,5,11.73,5,20 c0,8.27,6.73,15,15,15c8.27,0,15-6.73,15-15C35,11.73,28.27,5,20,5z"}))}};const u=[{label:(0,a.__)("枠なし","swell"),val:"square"},{label:(0,a.__)("枠あり","swell"),val:"circle"}],d=[{label:(0,a.__)("発言","swell"),val:"speaking"},{label:(0,a.__)("心の声","swell"),val:"thinking"}],v=[{label:(0,a.__)("左","swell"),val:"left"},{label:(0,a.__)("右","swell"),val:"right"}],_=[{label:(0,a.__)("なし","swell"),val:"none"},{label:(0,a.__)("あり","swell"),val:"on"}],h=[{name:(0,a.__)("グレー","swell"),color:"var(--color_bln_gray)"},{name:(0,a.__)("グリーン","swell"),color:"var(--color_bln_green)"},{name:(0,a.__)("ブルー","swell"),color:"var(--color_bln_blue)"},{name:(0,a.__)("レッド","swell"),color:"var(--color_bln_red)"},{name:(0,a.__)("イエロー","swell"),color:"var(--color_bln_yellow)"}];var R=window.wp.url;const E=window.swellBalloons||{},g=({balData:e})=>{const{icon:t,name:l,align:n,col:c,shape:o,type:r,border:s}=e;return React.createElement("div",{className:`c-balloon -bln-${n}`,"data-col":c},t&&React.createElement("div",{className:`c-balloon__icon -${o}`},React.createElement("img",{className:"c-balloon__iconImg",src:t,alt:""}),React.createElement("span",{className:"c-balloon__iconName"},l)),React.createElement("div",{className:`c-balloon__body -${r} -border-${s}`},React.createElement("div",{className:"c-balloon__text"},React.createElement("p",null,(0,a.__)("ふきだしテキスト","swell")),React.createElement("span",{className:"c-balloon__shapes"},React.createElement("span",{className:"c-balloon__before"}),React.createElement("span",{className:"c-balloon__after"})))))};var w=(0,n.memo)((({balloonID:e,setAttributes:t})=>React.createElement(p.PanelBody,{title:(0,a.__)("ふきだしセット","swell"),initialOpen:!0},React.createElement(p.ButtonGroup,{className:"swl-btns--styles -balloon"},Object.keys(E).map((l=>{const a=E[l],n=a.id.toString(),c=n===e;return React.createElement("div",{className:"__btnBox",key:`key_style_${l}`},React.createElement("button",{type:"button",id:"swell_style_"+l,className:"__btn u-none",onClick:()=>{t(c||"0"===n?{balloonID:"0"}:{balloonID:n})}}),React.createElement("label",{htmlFor:"swell_style_"+l,className:"__labelBtn","data-selected":c},React.createElement("span",{className:"__prevWrap -style"},React.createElement(g,{balData:a}))))}))),React.createElement("div",{className:"description u-mt-5"},(0,n.createInterpolateElement)((0,a.__)("<a>ふきだし管理ページ</a>から登録・編集できます。"),{a:React.createElement("a",{href:(0,R.addQueryArgs)("admin.php",{page:"swell_balloon"}),target:"_blank",rel:"noreferrer"})}))))),y=({attributes:e,setAttributes:t,setData:l})=>{const{balloonID:n,balloonIcon:c,balloonName:r,balloonCol:s,balloonType:i,balloonAlign:m,balloonBorder:R,balloonShape:E,spVertical:g}=e,y=React.createElement(p.BaseControl,null,React.createElement(p.BaseControl.VisualLabel,null,(0,a.__)("ふきだしの形","swell")),React.createElement(p.ButtonGroup,null,d.map((e=>{const a=e.val===l.type,n=e.val===(i||l.type);return React.createElement(p.Button,{text:e.label,icon:b.type[e.val],isPrimary:n,onClick:()=>{t(a?{balloonType:""}:{balloonType:e.val})},key:`type_${e.val}`})})))),f=React.createElement(p.BaseControl,null,React.createElement(p.BaseControl.VisualLabel,null,(0,a.__)("ふきだしの向き","swell")),React.createElement(p.ButtonGroup,null,v.map((e=>{const a=e.val===l.align,n=e.val===(m||l.align);return React.createElement(p.Button,{text:e.label,icon:b.align[e.val],isPrimary:n,onClick:()=>{t(a?{balloonAlign:""}:{balloonAlign:e.val})},key:`align_${e.val}`})})))),C=React.createElement(p.BaseControl,null,React.createElement(p.BaseControl.VisualLabel,null,(0,a.__)("ふきだしの線","swell")),React.createElement(p.ButtonGroup,null,_.map((e=>{const a=e.val===l.border,n=e.val===(R||l.border);return React.createElement(p.Button,{text:e.label,icon:b.border[e.val],isPrimary:n,onClick:()=>{t(a?{balloonBorder:""}:{balloonBorder:e.val})},key:`border_${e.val}`})})))),B=React.createElement(p.BaseControl,null,React.createElement(p.BaseControl.VisualLabel,null,(0,a.__)("アイコンの丸枠","swell")),React.createElement(p.ButtonGroup,null,u.map((e=>{const a=e.val===l.shape,n=e.val===(E||l.shape);return React.createElement(p.Button,{text:e.label,icon:b.shape[e.val],isPrimary:n,onClick:()=>{t(a?{balloonShape:""}:{balloonShape:e.val})},key:`shape_${e.val}`})})))),N=l.col,x=s||N,k=React.createElement(p.BaseControl,null,React.createElement(p.BaseControl.VisualLabel,null,(0,a.__)("ふきだしカラー","swell")),React.createElement(p.ColorPalette,{className:"swell-balloon-colors",value:`var(--color_bln_${x})`,colors:h,disableCustomColors:!0,clearable:!1,onChange:e=>{e=(e=(e=e||"").replace("var(--color_bln_","")).replace(")",""),t(e===N?{balloonCol:""}:{balloonCol:e})}})),V=l.spVertical||"0",I=g||V,M=React.createElement(p.BaseControl,null,React.createElement(p.BaseControl.VisualLabel,null,(0,a.__)("スマホでのテキストとアイコンの並び","swell")),React.createElement(p.ButtonGroup,null,React.createElement(p.Button,{text:(0,a.__)("横並び"),icon:b.spv.off,isPrimary:"0"===I,onClick:()=>{t("0"===V?{spVertical:""}:{spVertical:"0"})}}),React.createElement(p.Button,{text:(0,a.__)("縦並び"),icon:b.spv.on,isPrimary:"1"===I,onClick:()=>{t("1"===V?{spVertical:""}:{spVertical:"1"})}}))),T=React.createElement(p.TextControl,{label:(0,a.__)("アイコン下に表示する名前","swell"),value:r||l.name,onChange:e=>{e===l.name?t({balloonName:""}):t({balloonName:e})}}),S=React.createElement(React.Fragment,null,React.createElement(p.TextControl,{className:"u-mb-5",label:(0,a.__)("アイコン画像","swell"),value:c,id:"src_balloon_icon_"+n,onChange:e=>{t({balloonIcon:e})}}),React.createElement("div",{className:"swl-btns--media u-mb-20"},React.createElement(o.MediaUploadCheck,null,React.createElement(o.MediaUpload,{onSelect:e=>{e&&e.url?t({balloonIcon:e.url}):t({balloonIcon:""})},allowedTypes:"image",value:c,render:({open:e})=>React.createElement(p.Button,{isPrimary:!0,onClick:e},(0,a.__)("メディアから選択","swell"))})),React.createElement(p.Button,{isSecondary:!0,className:"swl-btn--delete",onClick:()=>{t({balloonIcon:""})}},(0,a.__)("削除","swell"))));return React.createElement(React.Fragment,null,React.createElement(w,{balloonID:n,setAttributes:t}),React.createElement(p.PanelBody,{title:(0,a.__)("ふきだし設定","swell"),initialOpen:!0,className:"swl-panel--balloon"},k,y,f,C,B,M,T,S))},f=window.wp.apiFetch,C=l.n(f),B=({balloonID:e})=>{const[t,l]=(0,n.useState)(!1);return React.createElement("div",{className:"swl-balloon-recoveryBtn"},t?React.createElement(React.Fragment,null,(0,a.sprintf)(
/* translators: %d ふきだしセットのID */
(0,a.__)("ふきだしセット「 ふきだし_%d」を作成しました。","swell"),e),(0,n.createInterpolateElement)((0,a.__)("<a>ふきだしセット管理ページ</a>から編集してください。"),{a:React.createElement("a",{href:(0,R.addQueryArgs)("admin.php",{page:"swell_balloon",id:e})})})):React.createElement(React.Fragment,null,(0,a.sprintf)(
/* translators: %d ふきだしセットのID */
(0,a.__)("このふきだしセット（ID: %d）のデータは破損してしまっているようですsssss。","swell"),e),React.createElement("div",null,React.createElement(p.Button,{isSecondary:!0,onClick:()=>{var t;t=e,C()({path:"/wp/v2/swell-balloon-recover",method:"POST",data:{id:t}}).then((()=>{l(!0)})).catch((e=>{alert(e.message||(0,a.__)("エラーが発生しました。","swell"))}))}},(0,a.__)("データ復旧用のふきだしセットを作成する","swell"))),(0,a.sprintf)(
/* translators: %d ふきだしセットのID */
(0,a.__)("※ ボタンをクリックすると「ふきだし_%d」という名前のふきだしセットが作成されますので、アイコン画像などを再設定してください。","swell"),e)))},N=l(184),x=l.n(N);function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},k.apply(this,arguments)}const V={icon:"",name:"",col:"gray",type:"speaking",align:"left",border:"none",shape:"circle",spVertical:""};var I;(0,c.registerBlockType)(r.u2,{title:(0,a.__)("ふきだし","swell"),icon:(I="format-chat",{foreground:" #04384c",src:I}),edit:({attributes:e,setAttributes:t})=>{const{balloonTitle:l,balloonID:c,balloonIcon:r,balloonName:s,balloonCol:i,balloonType:m,balloonAlign:p,balloonBorder:b,balloonShape:u,spVertical:d,content:v}=e;(0,n.useEffect)((()=>{l&&t({balloonTitle:""})}),[]);const _=window.swellBalloons||{},h="0"!==c?_[`id:${c}`]:null,R=(0,n.useMemo)((()=>{const e={...h||V};return r&&(e.icon=r),s&&(e.name=s),i&&(e.col=i),m&&(e.type=m),p&&(e.align=p),b&&(e.border=b),u&&(e.shape=u),d&&(e.spVertical=d),e}),[h,c,r,s,i,m,p,b,u,d]);let E=null;"0"===c||_[`id:${c}`]||(E=React.createElement(B,{balloonID:c}));const g=(0,o.useBlockProps)({className:"swell-block-balloon"});return React.createElement(React.Fragment,null,React.createElement(o.InspectorControls,null,React.createElement(y,{attributes:e,setAttributes:t,setData:h||V})),React.createElement("div",g,React.createElement("div",{className:"balloon_prev"},React.createElement("div",{className:x()(`c-balloon -bln-${R.align}`,{"-sp-vrtcl":""!==R.spVertical}),"data-col":R.col},R.icon&&React.createElement("div",{className:`c-balloon__icon -${R.shape}`},React.createElement("img",{className:"c-balloon__iconImg",src:R.icon,width:"80px",height:"80px",alt:""}),React.createElement("span",{className:"c-balloon__iconName"},R.name)),React.createElement("div",{className:`c-balloon__body -${R.type} -border-${R.border}`},React.createElement("div",{className:"c-balloon__text"},React.createElement(o.RichText,{tagName:"div",placeholder:(0,a.__)("テキストを入力…","swell"),value:v,onChange:e=>{t({content:e})}}),React.createElement("span",{className:"c-balloon__shapes"},React.createElement("span",{className:"c-balloon__before"}),React.createElement("span",{className:"c-balloon__after"})))))),E))},save:({attributes:e})=>{const t=o.useBlockProps.save({});return React.createElement(o.RichText.Content,k({},t,{tagName:"p",value:e.content}))},transforms:m,deprecated:i})},184:function(e,t){var l;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var c=typeof l;if("string"===c||"number"===c)e.push(l);else if(Array.isArray(l)){if(l.length){var o=n.apply(null,l);o&&e.push(o)}}else if("object"===c)if(l.toString===Object.prototype.toString)for(var r in l)a.call(l,r)&&l[r]&&e.push(r);else e.push(l.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(l=function(){return n}.apply(t,[]))||(e.exports=l)}()}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var c=t[a]={exports:{}};return e[a](c,c.exports,l),c.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l(276)}();