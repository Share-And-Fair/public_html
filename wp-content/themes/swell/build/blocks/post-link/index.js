!function(){var e={995:function(e,t,l){"use strict";var a=window.wp.i18n,r=window.wp.element,n=window.wp.blocks,s=window.wp.blockEditor,o=window.wp.components,c=window.wp.serverSideRender,i=l.n(c),p=JSON.parse('{"u2":"loos/post-link"}'),d=[{attributes:{postTitle:{type:"string",default:""},postId:{type:"string",default:""},cardCaption:{type:"string",default:""},isNewTab:{type:"boolean",default:!1},externalUrl:{type:"string",default:""},isPreview:{type:"boolean",default:!1},rel:{type:"string",default:""}},save:({attributes:e})=>{const{postId:t,cardCaption:l,isNewTab:a,externalUrl:r}=e;let n="post_link";return t&&(n+=' id="'+t+'"'),l&&(n+=' cap="'+l+'"'),a&&(n+=' target="_blank"'),r&&(n+=' url="'+r+'"'),React.createElement("div",null,"["+n+"]")}}],u=React.createElement("div",{lass:"swell-block-postLink","data-style":"card"},React.createElement("div",{href:"###",className:"p-blogCard -internal","data-type":"type1"},React.createElement("div",{className:"p-blogCard__inner"},React.createElement("span",{className:"p-blogCard__caption"},(0,a.__)("あわせて読みたい","swell")),React.createElement("div",{className:"p-blogCard__thumb c-postThumb"},React.createElement("figure",{className:"c-postThumb__figure"},React.createElement("img",{src:"https://s.w.org/images/core/5.3/MtBlanc1.jpg",className:"c-postThumb__img u-obf-cover",alt:""}))),React.createElement("div",{className:"p-blogCard__body"},React.createElement("span",{className:"p-blogCard__title"},(0,a.__)("記事のタイトル","swell")),React.createElement("span",{className:"p-blogCard__excerpt"},(0,a.__)("記事の抜粋文がここに入ります。記事の抜粋文がここに入ります。記事の抜粋文がここに入ります。","swell")))))),m=l(184),_=l.n(m),b=(0,r.memo)((e=>{const{tabs:t,state:l,setState:a,className:r}=e;return React.createElement("div",{className:_()("swl-tabControl",r)},t.map((e=>React.createElement(o.Button,{isSecondary:l!==e.key,isPrimary:l===e.key,onClick:()=>{a(e.key)},key:`tabkey_${e.key}`},e.label))))}));const w=(0,r.memo)((({postId:e,postTitle:t,externalUrl:l,isSelected:r,setAttributes:n,tabKey:c})=>React.createElement("div",{className:"swell-block-postLink__inputWrapper"},"internal"===c&&React.createElement("div",{className:"__internalArea"},React.createElement("input",{type:"text",className:"__idInput",value:e,placeholder:(0,a.__)("IDを入力","swell"),onChange:e=>{e.preventDefault(),n({postId:e.target.value,externalUrl:""})}}),React.createElement(s.URLInput,{value:t,className:"__urlInput",autoFocus:!1,hasBorder:!0,placeholder:(0,a.__)("タイトルを入力して記事を検索","swell"),disableSuggestions:!r,onChange:(e,t)=>{if(t){const e=t.title.replace("&#8211;","-");n({postId:t.id+"",postTitle:e,externalUrl:""})}else n({postTitle:e,postId:"",externalUrl:""})}})),"external"===c&&React.createElement("div",{className:"__externalArea"},React.createElement(o.TextControl,{className:"__externalInput",placeholder:(0,a.__)("URLを直接入力してください。","swell"),value:l,onChange:e=>{n({externalUrl:e,postId:"",postTitle:"",isNewTab:!1})}})))));var g;(0,n.registerBlockType)(p.u2,{title:(0,a.__)("関連記事","swell"),description:(0,a.__)("関連記事をブログカード型で表示します。","swell"),icon:(g="admin-links",{foreground:" #04384c",src:g}),edit:({attributes:e,setAttributes:t,isSelected:l})=>{const{isPreview:n,postId:c,postTitle:p,externalUrl:d,cardTitle:m,cardCaption:_,isNewTab:g,rel:f,hideImage:v,hideExcerpt:R,isText:E}=e;if(n)return u;const h=d?"external":"internal",[y,k]=(0,r.useState)(h),x=(0,r.useMemo)((()=>{let e=f;return d&&!f&&(e="noopener noreferrer"),g&&!f&&(e="noopener noreferrer"),e}),[f,d,g]),C=(0,s.useBlockProps)({className:"swell-block-postLink"});return React.createElement(React.Fragment,null,React.createElement(s.InspectorControls,null,React.createElement(o.PanelBody,{title:(0,a.__)("設定","swell"),initialOpen:!0},React.createElement(o.ToggleControl,{className:"u-mb-10",label:(0,a.__)("テキストリンクで表示する","swell"),checked:E,onChange:e=>{t({isText:e})}}),React.createElement("div",{className:"u-mb-15","data-swl-disable":E||null},React.createElement(o.ToggleControl,{className:"u-mb-10",label:(0,a.__)("画像を非表示にする","swell"),checked:v,onChange:e=>{t({hideImage:e})}}),React.createElement(o.ToggleControl,{className:"u-mb-15",label:(0,a.__)("抜粋文を非表示にする","swell"),checked:R,onChange:e=>{t({hideExcerpt:e})}}),React.createElement(o.TextControl,{label:(0,a.__)("キャプション","swell"),value:_,onChange:e=>{t({cardCaption:e})}})),React.createElement(o.TextControl,{label:(0,a.__)("ページタイトル (上書き用)","swell"),value:m,onChange:e=>{t({cardTitle:e})}})),React.createElement(o.PanelBody,{title:(0,a.__)("リンク設定","swell"),initialOpen:!0},React.createElement(o.ToggleControl,{id:"loosbtn_is_new_open",label:(0,a.__)("Open in new tab"),help:(0,a.__)("※ 外部サイトへのリンクでは、「新しいタブで開く」の設定は無視され、強制的にオンになります。","swell"),checked:!!d||g,className:d?"-is-external":null,onChange:e=>{const l=((e,t)=>{if(void 0===e)return t;let l=t||"";return e?(-1===l.indexOf("noopener")&&(l+=" noopener"),-1===l.indexOf("noreferrer")&&(l+=" noreferrer")):(l=l.replace("noopener",""),l=l.replace("noreferrer","")),l.trim()})(e,f);t({isNewTab:e,rel:l})}}),React.createElement(o.TextControl,{label:(0,a.__)("リンクのrel属性","swell"),value:x||"",onChange:e=>{t({rel:e})}}))),React.createElement("div",C,React.createElement("div",{className:"swell-block-postLink__preview"},c||d?React.createElement(i(),{block:"loos/post-link",attributes:e}):React.createElement("div",{className:"swell-block-postLink__none"},"internal"===y?(0,a.__)("※ ブログカードとして表示したい投稿を指定してください。","swell"):(0,a.__)("※ ブログカードとして表示したいURLを入力してください。","swell"))),l&&React.createElement(React.Fragment,null,React.createElement(b,{className:"-post-link",tabs:[{key:"internal",label:(0,a.__)("内部リンク","swell")},{key:"external",label:(0,a.__)("外部リンク","swell")}],state:y,setState:k}),React.createElement(w,{postId:c,postTitle:p,externalUrl:d,isSelected:l,setAttributes:t,tabKey:y}))))},save:()=>null,deprecated:d})},184:function(e,t){var l;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var n=typeof l;if("string"===n||"number"===n)e.push(l);else if(Array.isArray(l)){if(l.length){var s=r.apply(null,l);s&&e.push(s)}}else if("object"===n)if(l.toString===Object.prototype.toString)for(var o in l)a.call(l,o)&&l[o]&&e.push(o);else e.push(l.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(l=function(){return r}.apply(t,[]))||(e.exports=l)}()}},t={};function l(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,l),n.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l(995)}();